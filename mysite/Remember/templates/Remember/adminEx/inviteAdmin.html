{% load static %} 
<link rel="stylesheet" type="text/css" href="{% static 'remember/style.css' %}"> 

<!doctype html>
<html lang="en">
    <head>
        <title></title>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" 
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <style>
            
            .navbar{
                border-bottom: 3px solid black;
                background: rgba(255, 255, 255, 0.9);
            }
            
            .autohide{
                position: fixed;
                top: 0;
                right: 0;
                left: 0;
                width: 100%;
                z-index: 1030;
            }
            .scrolled-down{
                transform:translateY(-100%); transition: all 0.3s ease-in-out;
            }

            .scrolled-up{
                transform:translateY(0); transition: all 0.3s ease-in-out;
            }

            .backButton{
                width:51px;height:51px;
                background: transparent url(/../../static/remember/images/backButton.png) no-repeat;
                background-color: transparent;
                mix-blend-mode: multiply;
                background-size: cover;
                border: none;
            }
            
            .logo{
                width:83.1px; height: 72px; 
                /* Original size width: 374; height: 324 */
                background: transparent url(/../../static/remember/images/RememberLogoSized.png) no-repeat;
                mix-blend-mode: multiply;
                background-size: cover;
                border: none;
                
            }

            .btn.btn-secondary.dropdown-toggle {
                background-color: rgb(225,225,225);  
            }

            h1{
                color: white;
                font-family: 'Sans serif', Helvetica, sans-serif;
                font-size: calc(3vw + 2vh);
                padding:2%;
                padding-left: 12%;
            }
            h2{
                color: black;
                padding: 2%;
                font-weight: bold;
            }

            .container{
                background-color: aliceblue;
                padding: 1%;
            }

            .image-area img {
                z-index: 2;
                position: relative;
            }
            
            .col-sm{
                padding: 0px;
                margin: 0px;
            }

            .changeHeight{
                height:0px;
                margin: 0px;
                padding:0px;
            }
            
            .sliderToggle{
                width:80%;

            }

            .removePadding{
                padding:0;
            }

            .addHorizontalPadding{
                padding-left: 1vw;
                padding-right: 1vw;
            }

        </style>
    </head>

    <body>
        <header>

            
        </header>

        <!-- All your html stuff here -->

        
        <nav class="autohide navbar navbar-light" style="padding-left: 1vw;padding-right: 1vw;">
            <a class="navbar-brand" href="/remember/adminMenu" >
                <button class="backButton"></button>
            </a>
            <a href="">
                <div class="logo"></div>
            </a>
            <div class="dropdown" style="padding-right:1vw;">
                <a class="btn btn-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
                    <img src="/../../static/remember/images/settingsIcon1.png" style="width:42px;height:42px;">
                </a>
                <ul class="dropdown-menu dropdown-menu-end">
                    <li><a class="dropdown-item" href="/remember/helpPage">Help Page</a></li>
                    <li><a class="dropdown-item" href="/remember/loginPage">Logout</a></li>
                </ul>
            </div>
        </nav>
        
        <h1>
            Admins
        </h1>
        
        <div class="container removePadding">
            <!-- Content here -->
            <div class="container d-flex justify-content-center" style="background-color:rgb(225,225,225);">
                <div class="btn-group sliderToggle" role="group" aria-label="Basic radio toggle button group">
                    <input type="radio" class="btn-check" name="btnradio" id="btnradio1" autocomplete="off" onclick="createAccount()" checked>
                    <label class="btn btn-outline-primary" for="btnradio1">CREATE
                    </label>
                    
                    <input type="radio" class="btn-check" name="btnradio" id="btnradio2" autocomplete="off" onclick="inviteAccount()">
                    <label class="btn btn-outline-primary" for="btnradio2">PROMOTE
                    </label>
                </div>
            </div>

            <div class="d-flex justify-content-center text-center">
                <h2 id="accountTitle">
                    Create Admin Account
                </h2>
            </div>

            <form action="{% url 'Remember:processNewAdmin' %}" method="post" enctype="multipart/form-data" >
                {% csrf_token %}

                <div class="input-group mb-3 addHorizontalPadding">
                    <div class="input-group-prepend">
                    <span class="input-group-text " id="basic-addon1" style="width: 125px;">Email Address</span>
                    </div>
                    <input type="email" name="emailAddress" required class="form-control" placeholder="Email Address">
                </div>

                <div class="input-group mb-3 addHorizontalPadding" id="passwordDisplay">
                    <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1" style="width: 125px;">Password</span>
                    </div>
                    <input type="text" name="password"  class="form-control" placeholder="Password" id="inputPasswordId">
                </div>
                
                <div class="input-group mb-3 addHorizontalPadding" id="fNameDisplay">
                    <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1" style="width: 125px;">First Name</span>
                    </div>
                    <input type="text" name="firstName" class="form-control" placeholder="First Name"  id="inputFirstNameId">
                </div>

                <div class="input-group mb-3 addHorizontalPadding" id="lNameDisplay">
                    <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1" style="width: 125px;">Last Name</span>
                    </div>
                    <input type="text" name=lastName  class="form-control" placeholder="Last Name" id="inputLastNameId" >
                </div>

                {% if error_message %}
                    <div style="width:50%">
                    <p style="color:red"><strong>{{error_message}}</strong></p>
                    </div>
                {% endif %}   
                <input type="hidden" name="CorI" value="c" id = "CorIFeild">
                <div class="addHorizontalPadding">
                    <button type="submit" value="processNewAdmin" class="btn btn-primary" style="margin-bottom: 1.5vw;">Submit</button>
                </div>
            </form>

            <p></p>
        </div>
        
        <div id="myModal" class="modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header" style="background-color:rgb(59, 153, 109)">
                        <h5 class="modal-title" id="exampleModalLabel"> Admin Created Successfully</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body" id="modalTextClass">{{coi_message}}</div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary removeBorder" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Optional JavaScript -->
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>


        <script>
            document.addEventListener("DOMContentLoaded", function(){

                el_autohide = document.querySelector('.autohide');
                // add padding-top to bady (if necessary)
                navbar_height = document.querySelector('.navbar').offsetHeight;
                document.body.style.paddingTop = navbar_height + 'px';

                if(el_autohide){
                var last_scroll_top = 0;
                window.addEventListener('scroll', function() {
                        let scroll_top = window.scrollY;
                    if(scroll_top < last_scroll_top) {
                            el_autohide.classList.remove('scrolled-down');
                            el_autohide.classList.add('scrolled-up');
                        }
                    else {
                        el_autohide.classList.remove('scrolled-up');
                        el_autohide.classList.add('scrolled-down');
                    }
                        last_scroll_top = scroll_top;
                }); 
                // window.addEventListener
                }
                // if

            }); 

            function createAccount(){
                pass = document.getElementById("inputPasswordId")
                fName = document.getElementById("inputFirstNameId")
                lName = document.getElementById("inputLastNameId")
                title = document.getElementById("accountTitle");
                corI = document.getElementById("CorIFeild")
                passwordDisplay = document.getElementById("passwordDisplay")
                fNameDisplay = document.getElementById("fNameDisplay")
                lNameDisplay = document.getElementById("lNameDisplay")

                passwordDisplay.style.display = "inline-flex";
                fNameDisplay.style.display = "inline-flex";
                lNameDisplay.style.display = "inline-flex";

                corI.value = "c"


                title.textContent="Create Admin Account";
            }

            function inviteAccount(){
                vis = document.getElementById("visibility")
                pass = document.getElementById("inputPasswordId")
                fName = document.getElementById("inputFirstNameId")
                lName = document.getElementById("inputLastNameId")
                title = document.getElementById("accountTitle");
                corI = document.getElementById("CorIFeild")
                passwordDisplay = document.getElementById("passwordDisplay")
                fNameDisplay = document.getElementById("fNameDisplay")
                lNameDisplay = document.getElementById("lNameDisplay")

                fName.value = "";
                lName.value = "";
                pass.value = "";
                corI.value = "i"

                



                passwordDisplay.style.display = "none";
                fNameDisplay.style.display = "none";
                lNameDisplay.style.display = "none";


                title.textContent="Promote To Admin";
            }

            var myNewModal = document.getElementById("myModal")

            var galleryModal = new bootstrap.Modal(document.getElementById('myModal'), {
            keyboard: false
            });

            
            boolDisplay = document.getElementById("modalTextClass")
            var boolDisplayVal = boolDisplay.textContent
            if(boolDisplayVal != null){
                console.log("In 1 IF: " + boolDisplayVal)
                if(boolDisplayVal == ""){
                    console.log("In 2 IF")
                }
                else{
                    console.log("In ELSE!")
                    galleryModal.show();
                }
            }


            

        </script>

        <!--            if(boolDisplayVal != null){      -->
        
        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        
    </body>
</html>